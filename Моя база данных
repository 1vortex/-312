CREATE TABLE CITY(
ID SERIAL PRIMARY KEY,
CITY_NAME TEXT NOT NULL
);

CREATE TABLE TSELI(
ID SERIAL PRIMARY KEY,
TSELI_NAME TEXT NOT NULL
);

CREATE TABLE MARKETING(
ID SERIAL PRIMARY KEY,
MARK_COST TEXT NOT NULL
);

CREATE TABLE DOLZHNOST(
ID SERIAL PRIMARY KEY,
DOL_NAME TEXT NOT NULL
);

CREATE TABLE SOTRUDNIKI(
ID SERIAL PRIMARY KEY,
FIO_SOTR TEXT NOT NULL,
KD_SOTR TEXT NOT NULL,
ID_DOL INT,
FOREIGN KEY (ID_DOL) REFERENCES DOLZHNOST (ID)
);

CREATE TABLE TICKETS(
ID SERIAL PRIMARY KEY,
TICK_KOLVO TEXT NOT NULL,
TICK_COST TEXT NOT NULL
);

CREATE TABLE KONS_SQUARE(
ID SERIAL PRIMARY KEY,
KS_NAME TEXT NOT NULL,
KS_ADRESS TEXT NOT NULL,
KS_PHONE TEXT NOT NULL
);

CREATE TABLE ISPOLNITEL(
ID SERIAL PRIMARY KEY,
FIO_ISP TEXT NOT NULL,
KD_ISP TEXT NOT NULL
);

CREATE TABLE ATRIBUT(
ID SERIAL PRIMARY KEY,
ATR_NAME TEXT NOT NULL
);

CREATE TABLE ZHANR(
ID SERIAL PRIMARY KEY,
ZHANR_NAME TEXT NOT NULL
);

CREATE TABLE PESNI(
ID SERIAL PRIMARY KEY,
PES_NAME TEXT NOT NULL,
PES_DLIT TEXT NOT NULL,
PES_DV TEXT NOT NULL,
ID_ZHANRA INT,
FOREIGN KEY (ID_ZHANRA) REFERENCES ZHANR(ID)
);

CREATE TABLE KONCERT(
ID SERIAL PRIMARY KEY,
KONC_NAME TEXT NOT NULL,
ID_CITY INT,
FOREIGN KEY (ID_CITY) REFERENCES CITY (ID),
ID_TSELI INT,
FOREIGN KEY (ID_TSELI) REFERENCES TSELI (ID),
KONC_DP TEXT NOT NULL,
ID_MARK INT,
FOREIGN KEY (ID_MARK) REFERENCES MARKETING (ID),
ID_TICK INT,
FOREIGN KEY (ID_TICK) REFERENCES TICKETS (ID),
ID_OTVSOTR INT,
FOREIGN KEY (ID_OTVSOTR) REFERENCES SOTRUDNIKI (ID),
ID_KS INT,
FOREIGN KEY (ID_KS) REFERENCES KONS_SQUARE (ID)
);


CREATE TABLE RAPSISANIE(
ID SERIAL PRIMARY KEY,
ID_KONS INT,
FOREIGN KEY (ID_KONS) REFERENCES KONCERT (ID),
ID_ISP INT,
FOREIGN KEY (ID_ISP) REFERENCES ISPOLNITEL (ID),
ID_PESNI INT,
FOREIGN KEY (ID_PESNI) REFERENCES PESNI (ID),
ID_ATR INT,
FOREIGN KEY (ID_ATR) REFERENCES ATRIBUT (ID),
VV_ISP TEXT NOT NULL
);

INSERT INTO CITY(
	icity_name)
	VALUES 
	('MOSCOW'),
	('SARATOV');

INSERT INTO TSELI(TSELI_NAME)
VALUES
('SOBRAT MONEY'),
('RADOST');

INSERT INTO MARKETING(MARK_COST)
VALUES
('131515'),
('13545');

INSERT INTO DOLZHNOST(DOL_NAME)
VALUES
('PRODUCER'),
('ZVUKOOPERATOR');

INSERT INTO SOTRUDNIKI(fio_sotr, kd_sotr, id_dol)
VALUES
('FIO 1', '8945165489', 2),
('FIO 2', '8945145659', 1);

INSERT INTO tickets(
	tick_kolvo, tick_cost)
	VALUES 
	('23', '1500'),
	('183', '900');

INSERT INTO public.kons_square(
	ks_name, ks_adress, ks_phone)
	VALUES 
	('KS 1', 'ADRESS 1', '5648948778'),
	('KS 2', 'ADRESS 2', '8654353888');

INSERT INTO public.ispolnitel(
	fio_isp, kd_isp)
	VALUES 
	('BUZOVA', '8951658978'),
	('MYKHAYLOV', '845168798');  
  
INSERT INTO public.atribut(
	atr_name)
	VALUES
	('CUP'),
	('SNEAKERS');
  
 INSERT INTO public.zhanr(
	zhanr_name)
	VALUES
	('POP'),
	('HIP-HOP'); 
  
 INSERT INTO public.pesni(
	pes_name, pes_dlit, pes_dv, id_zhanra)
	VALUES 
	('VODITSA', '03:45', '2015', 2),
	('VSE DLYA TEBYA', '03:41', '2015', 1);

INSERT INTO public.koncert(
	konc_name, id_city, id_tseli, konc_dp, id_mark, id_tick, id_otvsotr, id_ks)
	VALUES 
	('NAME 1', 2, 1, 'RUSSIA', 1, 2, 2, 1),
	('NAME 2', 1, 2, 'RUSSIA', 2, 1, 2, 1);

INSERT INTO public.rapsisanie(
	id_kons, id_isp, id_pesni, id_atr, vv_isp)
	VALUES
	(1, 2, 2, 1, 2),
	(2, 1, 1, 2, 1);

